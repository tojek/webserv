server {
    listen 8080;
    server_name localhost;

    # Maximum client body size (default)
    client_max_body_size 10m;

    # Default error pages
    error_page 400 /errors/400.html;
    error_page 401 /errors/401.html;
    error_page 403 /errors/403.html;
    error_page 404 /errors/404.html;
    error_page 405 /errors/405.html;
    error_page 413 /errors/413.html;
    error_page 414 /errors/414.html;
    error_page 500 /errors/500.html;
    error_page 501 /errors/501.html;
    error_page 502 /errors/502.html;
    error_page 503 /errors/503.html;

    # Root location - GET requests ONLY
    location / {
        root ./static;
        index index.html;
        allowed_methods GET;
        directory_listing on;
    }

    # # PUT test location - save files to uploads directory
    # location /put_test {
    #     root ./static/uploads;
    #     allowed_methods PUT;
    #     directory_listing off;
    # }

    # Files with .bla extension - POST requests handled by CGI
    location ~ \.bla$ {
		index ./ubuntu_cgi_tester;
		client_max_body_size 100;
        cgi_path ./ubuntu_cgi_tester;
        allowed_methods POST;
    }

    # POST body test with max body size of 100 bytes
    location /post_body {
        root ./static;
        allowed_methods POST;
        client_max_body_size 100;
		directory_listing off;
	}

    # Directory listing for YoupiBanane with youpi.bad_extension as default
    location /directory {
        root ./YoupiBanane;
        index youpi.bad_extension;
        allowed_methods GET;
        directory_listing off;
    }

    # CGI scripts (if needed for other tests)
    location /cgi-bin {
        root .;
        cgi_extension .py .php .cgi;
        allowed_methods GET POST;
    }
}